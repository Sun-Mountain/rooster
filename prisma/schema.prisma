generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum Contact {
  EMAIL
  EMAIL2
  CALL
  TEXT
}

enum Pronouns {
  SHE_HER
  HE_HIM
  THEY_THEM
  OTHER
}

enum Role {
  ADMIN
  SUPER
  USER
}

enum Status {
  ACTIVE
  INACTIVE
  PENDING
}

model EmergencyContact {
  id            String   @id @default(cuid())
  userId        String   @unique
  firstName     String
  lastName      String
  relationship  String
  phoneNumber   String
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("emergency_contacts")
}

model UserContact {
  id                      String   @id @default(cuid())
  userId                  String   @unique
  preferredContact        Contact
  email2                  String
  phoneNumber             String
  secondEmail             String?
  addressLine1            String
  addressLine2            String?
  city                    String
  state                   String
  zipCode                 String
  country                 String
  createdAt               DateTime @default(now())
  updatedAt               DateTime @updatedAt
  user        User        @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("contact_info")
}

model User {
  id                String  @id @default(cuid())
  email             String  @unique
  firstName         String
  lastName          String
  pronouns          Pronouns
  otherPronouns     String?
  password          String
  contactInfo       UserContact?
  emergencyContact  EmergencyContact?
  role              Role    @default(USER)
  status            Status  @default(ACTIVE)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@map("users")
}